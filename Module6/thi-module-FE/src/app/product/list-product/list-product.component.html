<div id="main" style="margin-top: 2px">
  <div style="color: #a1ffa4; font-size: 60px; text-align: center;">
    DANH SÁCH SẢN PHẨM
  </div>

  <div style="overflow-x:auto ; margin-top: 50px; background-color: rgb(255,255,210);
 border-radius: 20px; box-shadow: 3px 3px #ADCF9F" class="container">
    <!--first row-->
    <nav class="navbar justify-content-between container-fluid" style="margin-top: 20px">
      <div>
        <button class="btn btn-success" routerLink="/product/add">Thêm mới
        </button>
      </div>

      <div></div>
      <!--search-->
      <div class="d-inline-flex">
        <select class="form-select" [(ngModel)]="selectedOption" style="margin-right: 10px">
          <option selected value=0>Lọc theo loại</option>
          <option *ngFor="let type of productTypeList" [ngValue]="type.id">{{type.name}}</option>
        </select>
        <button (click)="changeListBySearch()" class="btn btn-success">Lọc</button>
      </div>
    </nav>
    <!--end first row-->

    <!--second row-->
    <table class="table table-bordered table-sm" style="color: #041C32 ;
    border-color: #CEE5D0;box-shadow: 5px 10px 18px #ADCF9F; white-space: nowrap">
      <thead>
      <tr style="background: #A3DA8D; color: #041C32">
        <th>STT</th>
        <th>Mã sản phẩm</th>
        <th>Tên sản phẩm</th>
        <th>Ngày nhập hàng</th>
        <th>Giá tiền</th>
        <th style="text-align: center">Thao Tác</th>
      </tr>
      <tr *ngFor="let product of productList | paginate: { itemsPerPage: 5, currentPage: page }; index as id">
        <td>{{id+1+(page-1)*5}}</td>
        <td>{{product.code}}</td>
        <td>{{product.name}}</td>
        <td>{{product.dateCreateProduct | date: 'dd-MM-yyyy'}}</td>
        <td>{{product.price}}</td>
        <td style="text-align: center">
          <button class="btn btn-danger btn-sm" (click)="showDelete(product)" data-bs-toggle="modal"
                  data-bs-target="#deleteModal">Xóa
          </button>
        </td>
      </tr>
      </thead>
    </table>

    <!--paging-->
    <div style="text-align: end">
      <pagination-controls (pageChange)="page = $event"></pagination-controls>
    </div>
    <!--end paging-->

  </div>
</div>


<!-- delete Modal -->
<div class="modal fade" id="deleteModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        Bạn có muốn xóa?
        <div>Tên sản phẩm : <span style="color: crimson">{{nameDelete}}</span></div>
        <div>Ngày nhập: <span style="color: crimson">{{codeDelete}}</span></div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-bs-dismiss="modal">No</button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="deleteProduct()">Yes
        </button>
      </div>
    </div>
  </div>
</div>
<!-- end delete Modal -->
